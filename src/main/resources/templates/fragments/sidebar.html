<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<aside th:fragment="sidebar" class="bg-white h-full flex flex-col text-gray-600 transition-all duration-300 border-r border-gray-200">

    <div class="h-16 flex items-center justify-between px-4 border-b border-gray-100">
        <div class="flex items-center gap-3 font-bold text-xl tracking-wider sidebar-text overflow-hidden whitespace-nowrap transition-all duration-300">
            <div class="w-8 h-8 rounded-lg bg-[#1096AD] flex-shrink-0 flex items-center justify-center text-white shadow-md shadow-cyan-500/20">
                <i class="fa-solid fa-brain"></i>
            </div>
            <span class="text-gray-700">MindTrack</span>
        </div>

        <button id="sidebar-toggle" class="p-2 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-[#1096AD] transition-colors focus:outline-none"
                th:title="#{sidebar.menu.settings}"> <i class="fa-solid fa-bars"></i>
        </button>
    </div>

    <nav class="flex-1 flex flex-col py-6 space-y-1 px-3 overflow-y-auto overflow-x-hidden scrollbar-thin scrollbar-thumb-gray-200">

        <a th:href="@{/}"
           class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all duration-200 hover:bg-[#1096AD]/10 group text-gray-500 hover:text-[#1096AD]">
            <i class="fa-solid fa-house w-6 text-center text-lg flex-shrink-0 group-hover:scale-110 transition-transform"></i>
            <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                  th:text="#{sidebar.menu.home}">Home</span>
        </a>

        <a th:href="@{/dashboard}"
           class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all duration-200 hover:bg-[#1096AD]/10 group text-gray-500 hover:text-[#1096AD]">
            <i class="fa-solid fa-chart-pie w-6 text-center text-lg flex-shrink-0 group-hover:scale-110 transition-transform"></i>
            <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                  th:text="#{sidebar.menu.dashboard}">Dashboard</span>
        </a>

        <a th:href="@{/mood}"
           class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all duration-200 hover:bg-[#1096AD]/10 group text-gray-500 hover:text-[#1096AD]">
            <i class="fa-regular fa-face-smile w-6 text-center text-lg flex-shrink-0 group-hover:scale-110 transition-transform"></i>
            <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                  th:text="#{sidebar.menu.register_mood}">Registrar Humor</span>
        </a>

        <a th:href="@{/history-list}"
           class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all duration-200 hover:bg-[#1096AD]/10 group text-gray-500 hover:text-[#1096AD]">
            <i class="fa-solid fa-clock-rotate-left w-6 text-center text-lg flex-shrink-0 group-hover:scale-110 transition-transform"></i>
            <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                  th:text="#{sidebar.menu.history}">Histórico</span>
        </a>

        <div class="my-2 border-t border-gray-100 sidebar-text"></div>

        <a th:href="@{/settings}"
           class="flex items-center gap-4 px-3 py-3 rounded-xl transition-all duration-200 hover:bg-gray-100 group text-gray-500 hover:text-gray-900">
            <i class="fa-solid fa-gear w-6 text-center text-lg flex-shrink-0"></i>
            <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                  th:text="#{sidebar.menu.settings}">Ajustes</span>
        </a>
    </nav>

    <div class="border-t border-gray-100 p-4 bg-gray-50/50">

        <form th:action="@{/logout}" method="post">
            <button type="submit" class="w-full flex items-center gap-4 px-3 py-2 rounded-xl text-red-400 hover:bg-red-50 hover:text-red-600 transition-all duration-200 group">
                <i class="fa-solid fa-arrow-right-from-bracket w-6 text-center text-lg flex-shrink-0"></i>
                <span class="font-medium sidebar-text whitespace-nowrap transition-opacity duration-300"
                      th:text="#{sidebar.menu.logout}">Sair</span>
            </button>
        </form>

        <div class="mt-4 flex items-center gap-3 px-2 sidebar-text overflow-hidden transition-all duration-300">

            <div class="w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 font-bold border border-gray-300">
                <span th:text="${loggedUser.firstName != null ? loggedUser.firstName.substring(0,1) : 'U'}">U</span>
            </div>

            <div class="flex flex-col min-w-0">
                <span class="text-sm font-bold text-gray-700 truncate"
                      th:text="${loggedUser.firstName} + ' ' + ${loggedUser.lastName}">
                    Nome Usuário
                </span>

                <span class="text-xs text-[#1096AD] font-medium truncate"
                      th:text="#{sidebar.status.online}">
                    Onsline
                </span>
            </div>
        </div>
    </div>

</aside>
</html>